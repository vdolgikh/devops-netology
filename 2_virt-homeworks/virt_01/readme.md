# Домашнее задание к занятию «Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения»

## Задача 1

Опишите кратко, в чём основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

### Ответ:

1. Аппаратная виртуализация обеспечивает полную изоляцию гостевой ОС путем эмуляции.
2. Паравиртуализация позволяет госевой ОС использовать аппаратные ресурсы хостовой машины.
3. Виртуализация на основе ОС, в оличие от первых двух типов, происходит без гипервизора путем контейнеризации.

## Задача 2

Выберите один из вариантов использования организации физических серверов в зависимости от условий использования.

Организация серверов:

* физические сервера,
* паравиртуализация,
* виртуализация уровня ОС.

Условия использования:

* высоконагруженная база данных, чувствительная к отказу;
* различные web-приложения;
* Windows-системы для использования бухгалтерским отделом;
* системы, выполняющие высокопроизводительные расчёты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

### Ответ:

1. Высоконагруженная база данных, чувствительная к отказу - физические сервера или паравиртуализация. В первом случае нет потери в производительности, но риск отказа системы сохраняется. Во втором случае можно реализовать кластер обезопасив себя от отказов железа, а высокую нагрузку поддерживать путем масштабирования.
2. Различные web-приложения - виртуализация уровня ОС. В современных условиях разработки web-приложений наиболее удобным будет вариант с использованием контейнеров.
3. Windows-системы для использования бухгалтерским отделом - физические сервера. Если я правильно понял условия использования, то в данном случае чаще всего в подразумевается активная работа с базами данных на дисковых массивах (ms sql, postgresql). Виртуализация на уровне ОС тут вообще не рассматривается, а паравиртуализация при всем своем очаровании в силу легкости масштабирования или бэкапов может принести также ошибки I/O в работе с дисками.
4. Системы, выполняющие высокопроизводительные расчёты на GPU - физические сервера. На мой взгляд в данном случае крайне важно использовать ресурсы хоста на полную.

## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source-решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

### Ответ:

1. VMWare ESXi, Microsift Hyper-V. Исключительно из-за преимущества Windows-based инфраструктуры.
2. Proxmox VE, KVM (VirtualBox). Эти решения отлично подойдут под заявленные условия.
3. Microsoft Hyper-V, Xen server. Первый вариант обеспечит идеальную совместимость с Windows. Второй - альтернатива.
4. Docker, podman. В силу разношерстности Linux-дистрибутивов (Debian-based, RPM-based) контейнеризация позволяет не обращать на это внимание.

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

### Ответ:

Использование сразу нескольких систем управления виртуализации влечет за собой невозможность масштабирования, миграции виртуальных машин из одной системы в другую. К тому же, повышаются требования к администраторам как к специалистам, что в свою очередь влечет бОльшие финансовые затраты на содержание таких универсальных кадров.

В силу перечисленных аргументов выше, использование гетерогенной среды может быть обусловлено лишь конкретными узкоспециализированными задачами. К таким можно отнести задачи где требуется распределение аппаратных ресурсов.
